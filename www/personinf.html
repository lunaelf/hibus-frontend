<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
        <meta name="color-scheme" content="light dark">
        <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css" />
        <title>客运APP</title>
        <!-- <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" /> -->
        <!-- 开发环境版本，包含了有帮助的命令行警告 -->
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <!-- 生产环境版本，优化了尺寸和速度 -->
        <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    </head>
    <body>
        <div  id="userInfo">
            <div class="container">
                <div class="row" style="margin-top: 30px;margin-bottom: 20px;">
                    <div class="col-12 text-center">
                        <a href="html.html" style="color: rgb(128, 167, 240);">
                            <img src="img/customlogo.png"/><br/>
                            {{userinf.username}}
                        </a>
                    </div>
                </div>
            </div>
            <div class="container">
                <div style="border-radius: 10px;border:solid 3px;border-color: black; margin-bottom: 5px;margin-left: 20px;margin-right: 20px;">
                    <div class="row" style="margin-bottom: 30%;margin-top: 5%;">
                        <div class="col-4">
                            <p>用户名：{{userinf.username}}</p>
                        </div>
                        <!-- <div class="col-8">
                            <input type="text" readonly=true style="border:0px;">
                        </div> -->
                    </div>
                    <!-- <div class="row" style="margin-bottom: 30%;">
                        <div class="col-4">
                            <p>密码：*********</p>
                        </div>
                        <div class="col-8">
                            <input type="text" readonly=true placeholder="**********" style="border:0px;">
                        </div>
                    </div> -->
                    <div class="row" style="margin-bottom: 30%;">
                        <div class="col-4">
                            <p>手机号：{{userinf.email}}</p>
                        </div>
                        <!-- <div class="col-8">
                            <input type="text" readonly=true style="border:0px;">
                        </div> -->
                    </div>
                    <div class="row" style="margin-bottom: 30%;">
                        <div class="col-4">
                            <p>角色：{{userinf.is_admin}}</p>
                        </div>
                        <!-- <div class="col-8">
                            <input type="text" readonly=true style="border:0px;">
                        </div> -->
                    </div>
                </div>
                <!-- <div class="container" >
                    <button class="btn btn-primary btn-block " type="button" style="max-width: 85%;margin-left: 20px;margin-right: 20px;" data-toggle="modal"  data-target="#addOrder" v-on:click="newAddOrder()">
                        修改/保存
                    </button>
                </div> -->
            </div>
        </div>
        <!--底部导航栏-->
        <nav class="navbar bg-light fixed-bottom " style="margin:0;">
            <div class="container">
                <div class="col-4 text-center">
                    <a href="home.html" style="color: black">定制</br>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                        </svg>
                    </a>
                </div>
                <div class="col-4 text-center">
                    <a href="myorder.html" style="color: black">订单</br>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-list-ul" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                        </svg>
                    </a>
                </div>
                <div class="col-4 text-center">
                    <a href="#" style="color: black">我的</br>
                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-person-circle" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z"/>
                            <path fill-rule="evenodd" d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                            <path fill-rule="evenodd" d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z"/>
                        </svg>
                    </a>
                </div>
            </div>
        </nav>
        <script>
            var userinfo = {username:null,phonenum:null,role:null};
            var user_id= window.sessionStorage.getItem("user_id");//获取已登录的user_id
            if(user_id==null||user_id==''||user_id==undefined){
                user_id = 1;
            }
            let param = new URLSearchParams();//创建URLSearchParams实例
            param.append('user_id', user_id);//设置请求参数
            var url = 'http://localhost:8080/userinf/';//请求的url，在hibus/urls.py中配置
            var vm = new Vue({
                el: '#userInfo',
                data() {
                    return {
                        userinf: userinfo
                    }
                },
                mounted () {
                    axios
                    .post(url,param)
                    .then(function (response) {//请求成功
                        userinfo=response.data;
                    })
                    .catch(function (error) { // 请求失败处理
                        console.log(error);
                    });
                }
            })
        </script>
    </body>
</html>
